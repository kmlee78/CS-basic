>💡 ERD(Entity Relationship Diagram)는 데이터베이스를 구축할 때 가장 기초적인 뼈대 역할을 하며, 릴레이션 간의 관계들을 정의한 것이다.

[1. ERD의 중요성](#1-erd의-중요성)\
[2. ERD 예제](#2-erd-예제)\
[3. 정규화 과정](#3-정규화-과정)

## 1. ERD의 중요성

> ERD는 시스템의 요구 사항을 기반으로 작성되며 이 ERD를 기반으로 데이터베이스를 구축한다.
> 

ERD는 비정형 데이터를 충분히 표현할 수 없다는 단점이 있다. (구조화 되지 않은 데이터)

---

## 2. ERD 예제

**<요구사항>**

- 영업사원은 0~n명의 고객을 관리한다.
- 고객은 0~n개의 주문을 넣을 수 있다.
- 주문에는 1~n개의 상품이 들어간다.

**<정답>**

![image](https://user-images.githubusercontent.com/72758925/233773558-82b723f6-c452-4be3-ab0e-9c81a82cec35.png)

**<요구사항>**

- 선수들은 1 명의 챔피언을 고를 수 있다.
- 챔피언은 한 개 이상의 스킬을 갖는다.
- 스킬은 한 개 이상의 특성을 갖는다.

**<정답>**

![image](https://user-images.githubusercontent.com/72758925/233773570-5fd0ef4c-d4f9-4a0c-b0a8-bd8b13ac2a6b.png)

---

## 3. 정규화 과정

> **정규화 과정**은 릴레이션 간의 잘못된 종속 관계로 인해 데이터베이스 이상 현상이 일어나서 이를 해결하거나, 저장 공간을 효율적으로 사용하기 위해 릴레이션을 여러 개로 분리하는 과정이다.
> 

정규화 과정은 정규형 원칙을 기반으로 정규형을 만들어가는 과정이며, 정규화된 정도는 정규형 (**NF**, Normal Form)으로 표현한다.

### 정규형 원칙

같은 의미를 표현하는 릴레이션이지만 좀 더 좋은 구조로 만들어야 하고, 자료의 중복성은 감소해야 하고, 독립적인 관계는 별개의 릴레이션으로 표현해야 하며, 각각의 릴레이션은 독립적인 표현이 가능해야 하는 것을 말한다.

### 제1정규형

![image](https://user-images.githubusercontent.com/72758925/233773639-57e94b3e-5e62-49b1-85cf-032958bf17cc.png)

릴레이션의 모든 도메인이 더 이상 분해될 수 없는 원자 값(atomic value)만으로 구성되어야 한다. 

릴레이션의 속성 값 중에서 한 개의 기본키에 대해 두 개 이상의 값을 가지는 반복 집합이 있어서는 안된다. 만약에 반복 집합이 있다면 제거해야 한다.

### 제2정규형

![image](https://user-images.githubusercontent.com/72758925/233773675-4474e426-61b8-4342-8647-35546edff515.png)

제1정규형을 만족 + 기본키가 아닌 모든 속성이 기본키에 완전 함수 종속적이어야 한다.

이때 주의할 점은 릴레이션을 분해할 때 동등한 릴레이션으로 분해해야 하고, 정보 손실이 발생하지 않는 무손실 분해로 분해해야 하는 것이다.

### 제3정규형

![image](https://user-images.githubusercontent.com/72758925/233773702-4b8c0187-5df1-4235-b583-89ef0b475b06.png)

제2정규형을 만족 + 기본키가 아닌 모든 속성이 이행적 함수 종속(transitive FD)을 만족하지 않는 상태.

`이행적 함수 종속`: A → B와 B → C 가 존재하면 논리적으로 A → C 가 성립하는데, 이때 집합 C가 집합 A에 이행적으로 함수 종속이 되었다고 함

### 보이스/코드 정규형

> 보이스/코드 정규형(BCNF)은 제3정규형이고, 결정자가 후보키가 아닌 함수 종속 관계를 제거하여 릴레이션의 함수 종속 관계에서 모든 결정자가 후보키인 상태를 말한다.
> 

`결정자`: 함수 종속 관계에서 특정 종속자(dependent)를 결정짓는 요소, ‘X→Y ’일 때 X는 결정자, Y는 종속자이다.

예를 들어 다음과 같은 요구사항에서

- 각 수강명에 대해 한 학생은 오직 한 강사의 강의만 수강한다.
- 각 강사는 한 수강명 만 담당한다.
- 한 수강명은 여러 강사가 담당할 수 있다.

![image](https://user-images.githubusercontent.com/72758925/233773759-7ad583ff-940b-4c6d-a1a2-51fd650372b7.png)

만약 새로운 강사가 새로운 수강명을 담당하게 된다면 학번이 NULL인 데이터가 발생하게 된다. 또한, 이 릴레이션은 오른쪽 그림과 같은 함수 종속 다이어그램을 가진다.

즉, 강사 속성이 결정자이지만 후보키가 아니므로 이 강사 속성을 분리해야 한다.

![image](https://user-images.githubusercontent.com/72758925/233773800-487cae55-b616-4775-be9e-20806bbbd54e.png)